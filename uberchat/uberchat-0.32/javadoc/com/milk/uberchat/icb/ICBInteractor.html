<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Tue Apr 09 20:31:10 PDT 2002 -->
<TITLE>
ICBInteractor
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="ICBInteractor";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInputFilter.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyICBListener.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ICBInteractor.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.milk.uberchat.icb</FONT>
<BR>
Class  ICBInteractor</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.milk.uberchat.icb.ICBInteractor</B>
</PRE>
<HR>
<DL>
<DT> class <B>ICBInteractor</B><DT>extends java.lang.Object</DL>

<P>
This class does all the interaction with an ICB server. It takes input
 in the form of filtered messages (filtered through an ICBInputFilter)
 and explicit calls to do stuff. It sends stuff back to the server
 depending on what it's told to do, and messages etc. along to an
 ICBSystem depending on what gets received from the connection.
 BUG--when you disconnect, the interactor thread is left around.
 This is bad.
<P>

<P>
<DL>
<DT><B>Author:</B><DD>Dan Bornstein, danfuzz@milk.com</DD>
, Copyright 1998-1999 Dan Bornstein, all rights reserved.</DD>
</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyICBListener.html">ICBInteractor.MyICBListener</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This class is used as an inner instance to sort out
 <code>ICBEvent</code>s that get sent from the
 <code>ICBInputFilter</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyPinger.html">ICBInteractor.MyPinger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object that gets queued up to do periodic pings.</TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Vector</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myCommands">myCommands</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myDebug">myDebug</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whether to spew debugging info or not</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyICBListener.html">ICBInteractor.MyICBListener</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myICBListener">myICBListener</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal instance used to sort out <code>ICBEvent</code>s that
 get sent to us by the <code>ICBInputFilter</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBIdentity.html">ICBIdentity</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myIdentity">myIdentity</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/asynch/FifoQueue.html">FifoQueue</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myInput">myInput</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myIsDisconnected">myIsDisconnected</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.io.Writer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myOutput">myOutput</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyPinger.html">ICBInteractor.MyPinger</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myPinger">myPinger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBSystem.html">ICBSystem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#mySystem">mySystem</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Thread</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#myThread">myThread</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#PING_PERIOD">PING_PERIOD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the period (in msec) between server pings when no other activity
 is happening</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#ICBInteractor(com.milk.uberchat.icb.ICBSystem, com.milk.asynch.Resender, java.io.Writer)">ICBInteractor</A></B>(<A HREF="../../../../com/milk/uberchat/icb/ICBSystem.html">ICBSystem</A>&nbsp;system,
              <A HREF="../../../../com/milk/asynch/Resender.html">Resender</A>&nbsp;input,
              java.io.Writer&nbsp;output)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct an ICBInteractor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#beDisconnected(java.lang.String)">beDisconnected</A></B>(java.lang.String&nbsp;errorMsg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called when this object wants to let the system know that
 the connection has been or should be disconnected.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#doLogin(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">doLogin</A></B>(java.lang.String&nbsp;email,
        java.lang.String&nbsp;userid,
        java.lang.String&nbsp;password,
        java.lang.String&nbsp;initialChannel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell the interactor to do a login.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#doSendGather(char, java.lang.String[])">doSendGather</A></B>(char&nbsp;type,
             java.lang.String[]&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell the interactor to Send a packet and gather the response as 
 an array of MessageEvents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#doSendPacket(char, java.lang.String[])">doSendPacket</A></B>(char&nbsp;type,
             java.lang.String[]&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell the interactor to send a packet to the host system.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#receiveMessage()">receiveMessage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will receive a message from the input and handle it appropriately.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#receiveSystemMessage()">receiveSystemMessage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will receive a message from the input, handling everything
 appropriately, except for non-speech <code>MessageEvent</code>s,
 which it returns without any processing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#sendGather(char, java.lang.String[])">sendGather</A></B>(char&nbsp;type,
           java.lang.String[]&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a packet then gather a response from the host.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#sendPacket(char, java.lang.String[])">sendPacket</A></B>(char&nbsp;type,
           java.lang.String[]&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a packet of the given type with the given parameter fields
 (array of strings).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.html#threadRun()">threadRun</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the main loop of the thread that deals with the connection.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="PING_PERIOD"><!-- --></A><H3>
PING_PERIOD</H3>
<PRE>
private static final long <B>PING_PERIOD</B></PRE>
<DL>
<DD>the period (in msec) between server pings when no other activity
 is happening
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.milk.uberchat.icb.ICBInteractor.PING_PERIOD">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mySystem"><!-- --></A><H3>
mySystem</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/icb/ICBSystem.html">ICBSystem</A> <B>mySystem</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myOutput"><!-- --></A><H3>
myOutput</H3>
<PRE>
private java.io.Writer <B>myOutput</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIdentity"><!-- --></A><H3>
myIdentity</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/icb/ICBIdentity.html">ICBIdentity</A> <B>myIdentity</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myInput"><!-- --></A><H3>
myInput</H3>
<PRE>
private <A HREF="../../../../com/milk/asynch/FifoQueue.html">FifoQueue</A> <B>myInput</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myCommands"><!-- --></A><H3>
myCommands</H3>
<PRE>
private java.util.Vector <B>myCommands</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myThread"><!-- --></A><H3>
myThread</H3>
<PRE>
private java.lang.Thread <B>myThread</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myIsDisconnected"><!-- --></A><H3>
myIsDisconnected</H3>
<PRE>
private boolean <B>myIsDisconnected</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myPinger"><!-- --></A><H3>
myPinger</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyPinger.html">ICBInteractor.MyPinger</A> <B>myPinger</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="myDebug"><!-- --></A><H3>
myDebug</H3>
<PRE>
public boolean <B>myDebug</B></PRE>
<DL>
<DD>whether to spew debugging info or not
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myICBListener"><!-- --></A><H3>
myICBListener</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyICBListener.html">ICBInteractor.MyICBListener</A> <B>myICBListener</B></PRE>
<DL>
<DD>internal instance used to sort out <code>ICBEvent</code>s that
 get sent to us by the <code>ICBInputFilter</code>.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ICBInteractor(com.milk.uberchat.icb.ICBSystem, com.milk.asynch.Resender, java.io.Writer)"><!-- --></A><H3>
ICBInteractor</H3>
<PRE>
public <B>ICBInteractor</B>(<A HREF="../../../../com/milk/uberchat/icb/ICBSystem.html">ICBSystem</A>&nbsp;system,
                     <A HREF="../../../../com/milk/asynch/Resender.html">Resender</A>&nbsp;input,
                     java.io.Writer&nbsp;output)</PRE>
<DL>
<DD>Construct an ICBInteractor.
<P>
<DT><B>Parameters:</B><DD><CODE>system</CODE> - the system to use<DD><CODE>input</CODE> - the filtered stream of input from the server<DD><CODE>output</CODE> - the raw output stream</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="doLogin(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
doLogin</H3>
<PRE>
public void <B>doLogin</B>(java.lang.String&nbsp;email,
                    java.lang.String&nbsp;userid,
                    java.lang.String&nbsp;password,
                    java.lang.String&nbsp;initialChannel)</PRE>
<DL>
<DD>Tell the interactor to do a login.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>email</CODE> - the email address to use<DD><CODE>userid</CODE> - the userid to use<DD><CODE>password</CODE> - the password to use<DD><CODE>initialChannel</CODE> - the initial channel to join</DL>
</DD>
</DL>
<HR>

<A NAME="doSendPacket(char, java.lang.String[])"><!-- --></A><H3>
doSendPacket</H3>
<PRE>
public void <B>doSendPacket</B>(char&nbsp;type,
                         java.lang.String[]&nbsp;params)</PRE>
<DL>
<DD>Tell the interactor to send a packet to the host system.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the packet type<DD><CODE>params</CODE> - the packet parameters</DL>
</DD>
</DL>
<HR>

<A NAME="doSendGather(char, java.lang.String[])"><!-- --></A><H3>
doSendGather</H3>
<PRE>
public <A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A>[] <B>doSendGather</B>(char&nbsp;type,
                                   java.lang.String[]&nbsp;params)</PRE>
<DL>
<DD>Tell the interactor to Send a packet and gather the response as 
 an array of MessageEvents.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the packet type<DD><CODE>params</CODE> - the packet parameters
<DT><B>Returns:</B><DD>the array of response lines</DL>
</DD>
</DL>
<HR>

<A NAME="threadRun()"><!-- --></A><H3>
threadRun</H3>
<PRE>
private void <B>threadRun</B>()</PRE>
<DL>
<DD>This is the main loop of the thread that deals with the connection.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="beDisconnected(java.lang.String)"><!-- --></A><H3>
beDisconnected</H3>
<PRE>
private void <B>beDisconnected</B>(java.lang.String&nbsp;errorMsg)</PRE>
<DL>
<DD>This is called when this object wants to let the system know that
 the connection has been or should be disconnected.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errorMsg</CODE> - null-ok; if non-null, an error message to report
 to the user</DL>
</DD>
</DL>
<HR>

<A NAME="receiveSystemMessage()"><!-- --></A><H3>
receiveSystemMessage</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A> <B>receiveSystemMessage</B>()</PRE>
<DL>
<DD>This will receive a message from the input, handling everything
 appropriately, except for non-speech <code>MessageEvent</code>s,
 which it returns without any processing. Handling appropriately
 includes adding <code>Runnable</code>s to the command queue and
 telling the system about speech messages. If it receives and handles
 a message, it returns null.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>null-ok; the received non-speech MessageEvent, if any</DL>
</DD>
</DL>
<HR>

<A NAME="receiveMessage()"><!-- --></A><H3>
receiveMessage</H3>
<PRE>
private void <B>receiveMessage</B>()</PRE>
<DL>
<DD>This will receive a message from the input and handle it appropriately.
 This does everything that receiveSystemMessage does, plus it will
 send SystemMessages to the main system object.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendPacket(char, java.lang.String[])"><!-- --></A><H3>
sendPacket</H3>
<PRE>
private void <B>sendPacket</B>(char&nbsp;type,
                        java.lang.String[]&nbsp;params)</PRE>
<DL>
<DD>Send a packet of the given type with the given parameter fields
 (array of strings).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the type of the packet<DD><CODE>params</CODE> - the parameters to send</DL>
</DD>
</DL>
<HR>

<A NAME="sendGather(char, java.lang.String[])"><!-- --></A><H3>
sendGather</H3>
<PRE>
private <A HREF="../../../../com/milk/uberchat/event/MessageEvent.html">MessageEvent</A>[] <B>sendGather</B>(char&nbsp;type,
                                  java.lang.String[]&nbsp;params)</PRE>
<DL>
<DD>Send a packet then gather a response from the host. Since ICB sucks,
 we cheesily use an invalid command as the delimiter to know that the
 response is done.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the packet type<DD><CODE>params</CODE> - the packet parameters
<DT><B>Returns:</B><DD>the array of lines received as a response</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInputFilter.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/milk/uberchat/icb/ICBInteractor.MyICBListener.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ICBInteractor.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
